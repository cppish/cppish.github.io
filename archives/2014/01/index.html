<!DOCTYPE HTML>
<html>
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="chrome=1">
  
  <title>归档：2014/1 | 我还在碎碎念</title>
  <meta name="author" content="Fang Yong">
  
  <meta name="description" content="c++ | java | javascript | 分布式 | 程序员">
  
  
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">

  
  <meta property="og:site_name" content="我还在碎碎念"/>

  <link rel="alternate" href="/atom.xml" title="我还在碎碎念" type="application/atom+xml">
  <link rel="stylesheet" href="/css/style.css" media="screen" type="text/css">
  <link rel="icon" type="image/x-icon" href="/favicon.ico">
  <!--[if lt IE 9]><script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->
  <script src="//ajax.googleapis.com/ajax/libs/jquery/1.8/jquery.min.js"></script>
  
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-17687678-1', 'cppish.github.io');
  ga('send', 'pageview');

</script>


  
<script type="text/javascript">
var _bdhmProtocol = (("https:" == document.location.protocol) ? " https://" : " http://");
document.write(unescape("%3Cscript src='" + _bdhmProtocol + "hm.baidu.com/h.js%3Fda0cc58cc899b3d9b11c0e4e94698618' type='text/javascript'%3E%3C/script%3E"));
</script>


</head>


<body>
  <div class="wrapper">
    <header id="header"><div class="title">
  <h1><a href="/">我还在碎碎念</a></h1>
  <p><a href="/">It&#39;s a feature, not a bug.</a></p>
</div>
<nav class="nav">
  <ul>
    
      <li><a href="/">Home</a></li>
    
      <li><a href="/archives">Archives</a></li>
    
      <li><a href="/words">Words</a></li>
    
      <li><a href="/about">About</a></li>
    
  </ul>
  <div class="clearfix"></div>
</nav>
<div class="clearfix"></div></header>
    <div class="content">
<h2 class="archive-title">2014/1</h2>


  
    <article class="post">
  <header>
    
      <div class="icon"></div>
      <time datetime="2014-01-08T04:34:18.000Z"><a href="/2014/01/08/信息检索导论读书笔记2/">1月 8 2014</a></time>
    
    
  
    <h1 class="title"><a href="/2014/01/08/信息检索导论读书笔记2/">信息检索导论读书笔记【二】</a></h1>
  

  </header>
  
  <div class="entry">
    
      <h2 id="-8bcd-9879-8bcd-5178-53ca-5012-6392-8bb0-5f55-8868-">词项词典及倒排记录表</h2>
<h4 id="-8bcd-6761-5316-_tokenization">词条化 tokenization</h4>
<p>:    编码 二进制(docx) 非线性可扫描（阿拉伯文）<br>停用词 连字符 单引号的英文中不同的意义 不是简单的空格分隔。汉语需要分词。<br>停用词 stop words, 一般是200-300个词语。现在的IR系统，一般不去除stop words，因为增加的开销并不大，但’as we may think’这样的短语中去除了停用词之后就无意义了。一般通过文档频率等统计指标来惩罚停用词而不是直接去除停用词。</p>
<h4 id="-8bcd-6761-5f52-4e00-5316-_token_normalization">词条归一化 token normalization</h4>
<p>:    将不完全一致的词条归为一个<strong>等价类</strong> U.S.A == USA….. case-folding大小写转化, 一般可以直接全部转化为小写 因为用户的query可能就是小写的。 美式英式拼写。西班牙文里的音调不同导致意义不同。 世界是只有60%的网页是英文。</p>
<h4 id="-8bcd-5e72-8fd8-539f-_stemming">词干还原 stemming</h4>
<p>:    去除单词两端词缀过程<br><a href="http://tartarus.org/martin/PorterStemmer/" target="_blank">Porter算法</a></p>
<h4 id="-6587-6863-5355-4f4d-_documnet_unit">文档单位 documnet unit</h4>
<p>:    索引粒度(indexing granularity, 把书，章节，段落，句子作为文档单位粒度)。  </p>
<ol>
<li>粒度小，正确率高召回率低，容易错过较重要的段落</li>
<li>粒度大，正确率低召回率高</li>
</ol>
<h4 id="-57fa-4e8e-8df3-8f6c-8868-7684-5012-6392-8bb0-5f55-7684-5feb-901f-5408-5e76-7b97-6cd5-">基于跳转表的倒排记录的快速合并算法</h4>
<p>:    <a href="http://en.wikipedia.org/wiki/Skip_list" target="_blank">skip list</a> 在线性merge的时候能够快速跳过比较项目以提高合并速度（求AND时）<br><img src="http://cppish-github-io.qiniudn.com/blogskiplist.PNG" alt="skip list"></p>
<p>每个<script type="math/tex">$\sqrt{P}</script>处均匀放置跳表指针，其中P是倒排记录表的长度。 </p>
<h4 id="-542b-4f4d-7f6e-4fe1-606f-7684-5012-6392-8bb0-5f55-8868-53ca-77ed-8bed-67e5-8be2-">含位置信息的倒排记录表及短语查询</h4>
<p>单词作为粒度的倒排表完全丢失了文档的短语之间的邻近信息（认为文档其实是bag of words的模型），在处理短语（如人名时候）不够精确。</p>
<ol>
<li>二元词索引，连续的两个词作为短语（biword）作为词项</li>
<li>位置信息索引，词项-&gt;文档ID（位置1，位置2…）</li>
</ol>

    
  </div>
  <footer class="end-sep">
    
      
      
    
    <div class="clearfix"></div>
  </footer>
</article>


  
    <article class="post">
  <header>
    
      <div class="icon"></div>
      <time datetime="2014-01-07T16:21:36.000Z"><a href="/2014/01/08/信息检索导论读书笔记1/">1月 8 2014</a></time>
    
    
  
    <h1 class="title"><a href="/2014/01/08/信息检索导论读书笔记1/">信息检索导论读书笔记【一】</a></h1>
  

  </header>
  
  <div class="entry">
    
      <p><a href="http://book.douban.com/subject/5252170/" target="_blank">信息检索导论</a>算是IR领域内的一个经典教材了。由于本科时候其实没有系统接触这方面的知识。准备按照这本入门书籍来对信息检索相关的知识做个回顾和总结。大体上会按照书本二十多章的顺序。希望能有自己的感悟。看的时候使用的是图灵社区的电子版，配合的<a href="http://www.stanford.edu/class/cs276/" target="_blank">cs276@stanford</a> cs276的课程推荐书籍里头有几本重量级的，以后有空的话也准备看一下。话不多说，开始第一章。 </p>
<h2 id="-5e03-5c14-68c0-7d22-_Boolean_retrieval">布尔检索 Boolean retrieval</h2>
<h4 id="-4fe1-606f-68c0-7d22-">信息检索</h4>
<p>:    信息检索是从大规模非结构化数据（通常是文本）的集合（通常保存在计算机上）中找出满足用户信息需求的资料（通常是文档）的过程</p>
<p>结构化，半结构化，非结构化重点区别在于<strong>有没有清晰和明显的语义结构</strong></p>
<p>线性地扫描文档进行检索的方式叫做<a href="http://en.wikipedia.org/wiki/Grep" target="_blank">grepping</a>。<br>    grep , g/include/p, g/regex/p, 这就是grep得名的原因。。</p>
<h4 id="term_document_matrix">term document matrix</h4>
<p>:    单词X文档的一个矩阵。用户的query转化为对矩阵的多个行求 AND OR NOT操作，最后得到为1的docuemnt就是query的结果</p>
<p>98%的矩阵元素其实是0，即单词X文档矩阵有非常高的稀疏性。我们关心的只是为1的那些文档。</p>
<h4 id="-5012-6392-7d22-5f15-_Inverted_index">倒排索引 Inverted index</h4>
<p>:    词项到文档的一个索引。词项记录出现该词项的文档列表<br>词典一般按照词项的自然序进行排序，词典一般还会记录词频和单词出现位置。</p>
<h4 id="-6587-6863-9891-7387-_Document_frequency">文档频率 Document frequency</h4>
<p>:    词项出现的文档数目，即倒排表的长度</p>
<p>一般词典放内存，倒排表放硬盘。布尔查询转化为对倒排表求交集并集的过程。所以一般会<strong>将倒排表按照docId排序</strong>。对于交集操作可以使用mergesort类似的方法在线性时间内求得交集。布尔查询的优化，一般需要估算每个子项的size，把size小的先做and和or</p>
<h4 id="-6709-5e8f-68c0-7d22-6a21-578b-_ranked_retrieval_model">有序检索模型 ranked retrieval model</h4>
<p>:    词项邻近，指定查询中的两个词应该在文档中互相靠近（中间隔多少个词，是某在某个单元里，例如同一句话）</p>
<p>布尔查询有非常高的透明度和控制力，很多图书馆的搜索都是用这样简单而高效的模型。有非常高的准确率和召回率<br>其上的优化有很多<br>1.词项表的容错能力<br>2.概念的复合短语 如 operating system不是 operating AND system<br>3.利用好词频来做可信度<br>4.返回结果的排序 对文档的好坏进行评分<br>5.逻辑与（and）和逻辑或（or）会导致检索结果在准确率和召回率向两个极端发展，很难达到合理的均衡状态</p>

    
  </div>
  <footer class="end-sep">
    
      
      
    
    <div class="clearfix"></div>
  </footer>
</article>


  
    <article class="post">
  <header>
    
      <div class="icon"></div>
      <time datetime="2014-01-07T08:05:54.000Z"><a href="/2014/01/07/sublime-text-2输入当前时间/">1月 7 2014</a></time>
    
    
  
    <h1 class="title"><a href="/2014/01/07/sublime-text-2输入当前时间/">sublime text 2输入当前时间</a></h1>
  

  </header>
  
  <div class="entry">
    
      <p>作为最性感的编辑器, sublime text 2确实是超越了之前一直在用的notepad++太多。</p>
<p>在编辑 碎碎念 的<a href="http://cppish.github.io/words/" target="_blank">生词页面</a>的时候我想在页面后插入当前时间来表示这个单词被refresh的最新的时间。每次都要看右下角的时钟太蛋疼了。写了几次时间不能忍了之后准备写个简单的插件。</p>
<p>sublime text 2的<a href="http://docs.sublimetext.info/en/sublime-text-2/" target="_blank">插件文档页面</a>让人太想吐槽了…呵呵居然要自己查看一个zip包里头的接口使用文档（嗯毕竟是个人作品, 吐槽归吐槽，还是得大力支持啊）<br>发现整个插件开发流程还是蛮顺畅的。</p>
<p>1.<code>Tools -&gt; new plugin</code> 会自动新建一个<code>command</code>类型的插件  </p>
<p>2.编辑代码如下</p>
<figure class="highlight lang-python"><pre><span class="keyword">import</span> sublime, sublime_plugin
<span class="keyword">from</span> time <span class="keyword">import</span> localtime, strftime

<span class="class"><span class="keyword">class</span> <span class="title">InsertTimeCommand</span><span class="params">(sublime_plugin.TextCommand)</span>:</span>
	<span class="function"><span class="keyword">def</span> <span class="title">run</span><span class="params">(self, edit)</span>:</span>
		self.view.insert(edit, self.view.sel()[<span class="number">0</span>].b, strftime(<span class="string">"%Y-%m-%d %H:%M:%S"</span>, localtime()))
</pre></figure>

<p>另存为user目录下的一个py文件  </p>
<p>3.其实这个时候在<code>ctrl+` </code>下已经可以调用这个命令了<code>view.run_command(&quot;insert_time&quot;)</code> <em>注意这个名字哦~</em>  </p>
<p>4.<code>Preferences -&gt; key bindding - user</code> 下在json里添加</p>
<figure class="highlight lang-javascript"><pre>{ <span class="string">"keys"</span>: [<span class="string">"ctrl+t"</span>], <span class="string">"command"</span>: <span class="string">"insert_time"</span> }
</pre></figure>

<p>大功告成！现在已经可以用 <code>ctrl+t</code>快捷键输入当前时间了！ Just like the old days :)</p>
<p>不要低估一个程序员偷懒的心…..</p>

    
  </div>
  <footer class="end-sep">
    
      
      
    
    <div class="clearfix"></div>
  </footer>
</article>


  
    <article class="post">
  <header>
    
      <div class="icon"></div>
      <time datetime="2014-01-04T03:38:51.000Z"><a href="/2014/01/04/hello-world/">1月 4 2014</a></time>
    
    
  
    <h1 class="title"><a href="/2014/01/04/hello-world/">Hello World</a></h1>
  

  </header>
  
  <div class="entry">
    
      <p>Hello, the world needs you.</p>

    
  </div>
  <footer class="end-sep">
    
      
      
    
    <div class="clearfix"></div>
  </footer>
</article>


  

  <nav id="pagination">
  
  
  <div class="clearfix"></div>
</nav>

</div>
  </div>
  <div class="widget-wrapper">
    <aside id="sidebar">
  
  
    
      
      

<div class="widget blogroll first">
  <h3 class="title">友情链接</h3>
  <ul class="entry">
  
    
    <li><a href="http://weibo.com/ertiaobuduan/" target="_blank">我的微博</a></li>
  
  </ul>
</div>

    
      
      

<div class="widget tagcloud">
  <h3 class="title">标签云</h3>
  <div class="entry">
    <a href="/tags/Information Retrieval/" style="font-size: 20.00px;">Information Retrieval</a><a href="/tags/sublime text 2/" style="font-size: 10.00px;">sublime text 2</a><a href="/tags/信息检索/" style="font-size: 20.00px;">信息检索</a><a href="/tags/倒排索引/" style="font-size: 20.00px;">倒排索引</a><a href="/tags/插件/" style="font-size: 10.00px;">插件</a><a href="/tags/读书笔记/" style="font-size: 20.00px;">读书笔记</a><a href="/tags/跳转表/" style="font-size: 10.00px;">跳转表</a>
  </div>
</div>

    
      
      

<div class="widget recent-posts">
  <h3 class="title">最近的文章</h3>
  <ul class="entry">
    
      <li>
        <a href="/2014/01/08/信息检索导论读书笔记2/">信息检索导论读书笔记【二】</a>
      </li>
    
      <li>
        <a href="/2014/01/08/信息检索导论读书笔记1/">信息检索导论读书笔记【一】</a>
      </li>
    
      <li>
        <a href="/2014/01/07/sublime-text-2输入当前时间/">sublime text 2输入当前时间</a>
      </li>
    
      <li>
        <a href="/2014/01/04/hello-world/">Hello World</a>
      </li>
    
  </ul>
</div>

    
      
      <div class="widget weibo newline">
<iframe width="100%" height="550" class="share_self"  frameborder="0" scrolling="no" src="http://widget.weibo.com/weiboshow/index.php?language=&width=0&height=550&fansRow=1&ptype=1&speed=0&skin=2&isTitle=1&noborder=1&isWeibo=0&isFans=1&uid=1794850835&verifier=fab8d67b&dpc=1"></iframe>
</div>

    
  
</aside>
<div class="clearfix"></div>
  </div>
  <footer id="footer"><div class="copyright">
  
  &copy; 2014 <a href="/">Fang Yong</a>
  
</div>
<div class="theme-copyright">
</div>
<div class="clearfix"></div>
</footer>
  <script src="/js/scale.fix.js"></script>
<script src="/js/jquery.imagesloaded.min.js"></script>
<script src="/js/gallery.js"></script>


<script type="text/javascript">
  var duoshuoQuery = { short_name: 'cppish' };
  (function() {
    var ds = document.createElement('script');
    ds.type = 'text/javascript';
    ds.async = true;
    ds.src = 'http://static.duoshuo.com/embed.js';
    ds.charset = 'UTF-8';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(ds);
  })();
</script>



<link rel="stylesheet" href="/fancybox/jquery.fancybox.css" media="screen" type="text/css">
<script src="/fancybox/jquery.fancybox.pack.js"></script>
<script type="text/javascript">
  (function($){
    $('.fancybox').fancybox();
  })(jQuery);
</script>

<!-- mathjax config similar to math.stackexchange -->

<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    tex2jax: {
      inlineMath: [ ['$','$'], ["\\(","\\)"] ],
      processEscapes: true
    }
  });
</script>

<script type="text/x-mathjax-config">
    MathJax.Hub.Config({
      tex2jax: {
        skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
      }
    });
</script>

<script type="text/x-mathjax-config">
    MathJax.Hub.Queue(function() {
        var all = MathJax.Hub.getAllJax(), i;
        for(i=0; i < all.length; i += 1) {
            all[i].SourceElement().parentNode.className += ' has-jax';
        }
    });
</script>

<script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
</script>
</body>
</html>